<%- include('../layouts/userLayouts/header') %><div class="bg-white sticky-top">
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-light bg-white">
    <div class="container">
      <!-- Logo with Dummy Image -->
      <a class="navbar-brand d-flex align-items-center" href="">
        <span style="font-size: 32px; font-weight: bold; color: black"
          >AXIOS</span
        ><sup style="color: black">Â®</sup>
      </a>
      <!-- Search Form -->
      <form
        class="d-flex mx-auto w-50"
        id="searchForm"
        action="/showcase"
        method="GET"
      >
        <input
          class="form-control search-bar"
          style="
            border: none;
            box-shadow: 0px 0px 6px rgba(0, 0, 0, 0.3);

            padding: 20px 15px;
            border-radius: 5px;
            height: 48px;
          "
          type="search"
          name="searchProduct"
          placeholder="Search for items..."
          aria-label="Search"
          value="<%= searchProduct || '' %>"
        />
      </form>

      <!-- Icons -->
      <ul
        style="margin-right: 10px"
        class="navbar-nav mb-2 mb-lg-0 d-flex align-items-center"
      >
        <li class="nav-item me-3">
          <a
            class="nav-link"
            href="/wishList"
            style="color: black; font-weight: bold; font-size: 24px"
          >
            <i class="fi-rs-heart"></i>
          </a>
        </li>
        <li class="nav-item me-3">
          <a
            class="nav-link"
            href="/cart"
            style="color: black; font-weight: bold; font-size: 24px"
          >
            <i class="fi-rs-shopping-cart"></i>
          </a>
        </li>
        <li class="nav-item me-3">
          <a
            class="nav-link"
            href="/profile"
            style="color: black; font-weight: bold; font-size: 24px"
          >
            <i class="fi-rs-user"></i>
          </a>
        </li>
      </ul>
    </div>
  </nav>

  <div class="container" style="height: 70px">
    <div class="row">
      <div class="col-12 text-center mt-3">
        <ul style="user-select: none" class="list-inline">
          <li class="list-inline-item">
            <a
              href="/showcase?targetGroup=men"
              style="
                color: black;
                font-weight: bold;
                font-size: 20px;
                padding-right: 10px;
              "
              >Mens</a
            >
          </li>
          <li class="list-inline-item">
            <a
              href="/showcase?targetGroup=women"
              style="
                color: black;
                font-weight: bold;
                font-size: 20px;
                padding-right: 10px;
              "
              >Womens</a
            >
          </li>
          <li class="list-inline-item">
            <a
              href="/showcase?targetGroup=kids"
              style="
                color: black;
                font-weight: bold;
                font-size: 20px;
                padding-right: 10px;
              "
              >Kids</a
            >
          </li>
          <li class="list-inline-item">
            <a
              href="/"
              style="
                color: black;
                font-weight: bold;
                font-size: 20px;
                padding-right: 10px;
              "
              >About Us</a
            >
          </li>
          <li class="list-inline-item">
            <a
              href="/"
              style="
                color: black;
                font-weight: bold;
                font-size: 20px;
                padding-right: 10px;
              "
              >Contact</a
            >
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>

<main class="main">
  <section class="pt-150 pb-150">
    <div class="container">
      <div class="row">
        <div class="col-lg-10 m-auto">
          <div class="row">
            <%- include('../layouts/userLayouts/sidebar') %>
            <div class="col-md-8">
              <div class="container mt-5">
                <h2
                  style="
                    font-size: 24px;
                    font-weight: bold;
                    color: #333;
                    margin-bottom: 1rem;
                  "
                >
                  ADD A NEW ADDRESS
                </h2>

                <form id="formData" method="post" action="/addAddress">
                  <div class="row mb-3">
                    <div class="col-md-6">
                      <input
                        type="text"
                        class="form-control"
                        name="name"
                        placeholder="Name"
                        id="name"
                      />
                      <span
                        id="nameError"
                        class="error"
                        style="font-size: 0.9rem; color: red"
                      ></span>
                    </div>
                    <div class="col-md-6">
                      <input
                        type="tel"
                        class="form-control"
                        name="phone"
                        id="phone"
                        placeholder="10-digit mobile number"
                      />
                      <span
                        id="phoneError"
                        class="error"
                        style="font-size: 0.9rem; color: red"
                      ></span>
                    </div>
                  </div>
                  <div class="row mb-3">
                    <div class="col-md-6">
                      <input
                        type="text"
                        class="form-control"
                        name="pincode"
                        id="pincode"
                        placeholder="Pincode"
                      />
                      <span
                        id="pincodeError"
                        class="error"
                        style="font-size: 0.9rem; color: red"
                      ></span>
                    </div>
                    <div class="col-md-6">
                      <input
                        type="text"
                        class="form-control"
                        name="locality"
                        id="locality"
                        placeholder="Locality"
                      />
                      <span
                        id="localityError"
                        class="error"
                        style="font-size: 0.9rem; color: red"
                      ></span>
                    </div>
                  </div>
                  <div class="mb-3">
                    <textarea
                      class="form-control"
                      name="address"
                      rows="3"
                      id="address"
                      placeholder="Address (Area and Street)"
                    ></textarea>
                    <span
                      id="addressError"
                      class="error"
                      style="font-size: 0.9rem; color: red"
                    ></span>
                  </div>
                  <div class="row mb-3">
                    <div class="col-md-6">
                      <input
                        type="text"
                        class="form-control"
                        name="cityDistTown"
                        id="cityDistTown"
                        placeholder="City/District/Town"
                      />
                      <span
                        id="cityDistTownError"
                        class="error"
                        style="font-size: 0.9rem; color: red"
                      ></span>
                    </div>
                    <div class="col-md-6">
                      <select class="form-select" name="state" id="state">
                        <!-- <option >--Select State--</option> -->
                        <option value="Andhra Pradesh">Andhra Pradesh</option>
                        <option value="Arunachal Pradesh">
                          Arunachal Pradesh
                        </option>
                        <option value="Assam">Assam</option>
                        <option value="Bihar">Bihar</option>
                        <option value="Chhattisgarh">Chhattisgarh</option>
                        <option value="Goa">Goa</option>
                        <option value="Gujarat">Gujarat</option>
                        <option value="Haryana">Haryana</option>
                        <option value="Himachal Pradesh">
                          Himachal Pradesh
                        </option>
                        <option value="Jharkhand">Jharkhand</option>
                        <option value="Karnataka">Karnataka</option>
                        <option value="Kerala">Kerala</option>
                        <option value="Madhya Pradesh">Madhya Pradesh</option>
                        <option value="Maharashtra">Maharashtra</option>
                        <option value="Manipur">Manipur</option>
                        <option value="Meghalaya">Meghalaya</option>
                        <option value="Mizoram">Mizoram</option>
                        <option value="Nagaland">Nagaland</option>
                        <option value="Odisha">Odisha</option>
                        <option value="Punjab">Punjab</option>
                        <option value="Rajasthan">Rajasthan</option>
                        <option value="Sikkim">Sikkim</option>
                        <option value="Tamil Nadu">Tamil Nadu</option>
                        <option value="Telangana">Telangana</option>
                        <option value="Tripura">Tripura</option>
                        <option value="Uttar Pradesh">Uttar Pradesh</option>
                        <option value="Uttarakhand">Uttarakhand</option>
                        <option value="West Bengal">West Bengal</option>
                      </select>
                      <span
                        id="stateError"
                        class="error"
                        style="font-size: 0.9rem; color: red"
                      ></span>
                    </div>
                  </div>
                  <div class="row mb-3">
                    <div class="col-md-6">
                      <input
                        type="text"
                        class="form-control"
                        name="landMark"
                        placeholder="Landmark (Optional)"
                      />
                    </div>
                    <div class="col-md-6">
                      <input
                        type="tel"
                        class="form-control"
                        name="altPhone"
                        placeholder="Alternate Phone (Optional)"
                      />
                    </div>
                  </div>
                  <div class="row mb-3">
                    <div class="col-md-6">
                      <input
                        type="email"
                        class="form-control"
                        name="email"
                        id="email"
                        placeholder="Email"
                      />
                      <span
                        id="emailError"
                        class="error"
                        style="font-size: 0.9rem; color: red"
                      ></span>
                    </div>
                  </div>
                  <div class="mb-3">
                    <label class="form-label">Address Type</label>
                    <div>
                      <div class="form-check form-check-inline">
                        <input
                          class="form-check-input"
                          type="radio"
                          name="addressType"
                          id="home"
                          value="home"
                        />
                        <label class="form-check-label" for="home">Home</label>
                      </div>
                      <div class="form-check form-check-inline">
                        <input
                          class="form-check-input"
                          type="radio"
                          name="addressType"
                          id="work"
                          value="work"
                        />
                        <label class="form-check-label" for="work">Work</label>
                      </div>
                      <div class="form-check form-check-inline">
                        <input
                          class="form-check-input"
                          type="radio"
                          name="addressType"
                          id="other"
                          value="other"
                        />
                        <label class="form-check-label" for="other"
                          >Other</label
                        >
                      </div>
                      <span
                        id="addressTypeError"
                        class="error"
                        style="font-size: 0.9rem; color: red"
                      ></span>
                    </div>
                  </div>
                  <div class="mb-3">
                    <div>
                      <button type="submit" class="btn btn-primary">
                        SAVE
                      </button>
                      <a
                        href="/address"
                        style="display: inline-block; text-decoration: none"
                      >
                        <button type="button" class="btn btn-secondary">
                          CANCEL
                        </button>
                      </a>
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</main>
<script>
  document.addEventListener("DOMContentLoaded", () => {
    //first name validation

    const nameInput = document.getElementById("name");
    const nameError = document.getElementById("nameError");

    const validateName = () => {
      if (nameInput.value.trim() === "") {
        nameError.textContent = "* Name is required";
        return false;
      } else if (!/^[a-zA-Z\s]+$/.test(nameInput.value.trim())) {
        nameError.textContent = "* Name must contain only letters";
        return false;
      } else if (nameInput.value.trim().length < 2) {
        nameError.textContent = "* Name must be at least 2 characters long";
        return false;
      } else {
        nameError.textContent = "";
        return true;
      }
    };
    nameInput.addEventListener("input", validateName);

    //mobile validaton

    const phoneInput = document.getElementById("phone");
    const phoneError = document.getElementById("phoneError");

    const validatePhone = () => {
      const phoneRegex = /^\d{10}$/;

      if (phoneInput.value.trim() === "") {
        phoneError.textContent = "* Phone Number is required";
        return false;
      } else if (!phoneRegex.test(phoneInput.value.trim())) {
        phoneError.textContent = "* Enter a valid Phone Number";
        return false;
      } else {
        phoneError.textContent = "";
        return true;
      }
    };

    phoneInput.addEventListener("input", validatePhone);

    //pincode validaton
    const pincodeInput = document.getElementById("pincode");
    const pincodeError = document.getElementById("pincodeError");

    const validatePincode = () => {
      const pincodeRegex = /^\d{6}$/;

      if (pincodeInput.value.trim() === "") {
        pincodeError.textContent = "*Pincode is required";
        return false;
      } else if (!pincodeRegex.test(pincodeInput.value.trim())) {
        pincodeError.textContent = "* Enter a valid Pincode";
        return false;
      } else {
        pincodeError.textContent = "";
        return true;
      }
    };

    pincodeInput.addEventListener("input", validatePincode);

    //locality validation
    const localityInput = document.getElementById("locality");
    const localityError = document.getElementById("localityError");

    const validateLocality = () => {
      if (localityInput.value.trim() === "") {
        localityError.textContent = "* Locality is required";
        return false;
      } else if (localityInput.value.trim().length < 5) {
        localityError.textContent =
          "* Locality must be at least 5 characters long";
        return false;
      } else if (!/^[a-zA-Z\s]+$/.test(localityInput.value.trim())) {
        localityError.textContent = "* Locality can only contain letters";
        return false;
      } else {
        localityError.textContent = "";
        return true;
      }
    };

    localityInput.addEventListener("input", validateLocality);

    //address  validation
    const addressInput = document.getElementById("address");
    const addressError = document.getElementById("addressError");

    const validateAddress = () => {
      if (addressInput.value.trim() === "") {
        addressError.textContent = "* Address is required";
        return false;
      } else if (addressInput.value.trim().length < 5) {
        addressError.textContent =
          "* Address must be at least 5 characters long";
        return false;
      } else {
        addressError.textContent = "";

        return true;
      }
    };
    addressInput.addEventListener("input", validateAddress);

    //cityDistTown  validation

    const cityDistTownInput = document.getElementById("cityDistTown");
    const cityDistTownError = document.getElementById("cityDistTownError");

    const validateCityDistTown = () => {
      if (cityDistTownInput.value.trim() === "") {
        cityDistTownError.textContent = "*cityDistTown is required";
        return false;
      } else {
        cityDistTownError.textContent = "";

        return true;
      }
    };
    cityDistTownInput.addEventListener("input", validateCityDistTown);

    //validate state
    const stateInput = document.getElementById("state");
    const stateError = document.getElementById("stateError");

    const validateState = () => {
      if (stateInput.value === "") {
        stateError.textContent = "* State is required";
        return false;
      } else {
        stateError.textContent = "";
        return true;
      }
    };

    stateInput.addEventListener("change", validateState);

    //email validaton

    const emailInput = document.getElementById("email");
    const emailError = document.getElementById("emailError");

    const validateEmail = () => {
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

      if (emailInput.value.trim() === "") {
        emailError.textContent = "* Email is required";
        return false;
      } else if (!emailRegex.test(emailInput.value.trim())) {
        emailError.textContent = "* Enter a valid email";
        return false;
      } else {
        emailError.textContent = "";
        return true;
      }
    };

    emailInput.addEventListener("input", validateEmail);

    //address type validation
    const addressTypeInputs = document.querySelectorAll(
      'input[name="addressType"]'
    );
    const addressTypeError = document.getElementById("addressTypeError");

    const validateAddressType = () => {
      const isChecked = Array.from(addressTypeInputs).some(
        (input) => input.checked
      );
      if (!isChecked) {
        addressTypeError.textContent = "* Address Type is required";
        return false;
      } else {
        addressTypeError.textContent = "";
        return true;
      }
    };
    addressTypeInputs.forEach((input) =>
      input.addEventListener("change", validateAddressType)
    );

    const form = document.getElementById("formData");

    form.addEventListener("submit", (event) => {
      const isNameValid = validateName();
      const isPhoneValid = validatePhone();
      const isPincodeValid = validatePincode();
      const isLocalityValid = validateLocality();
      const isAddressValid = validateAddress();
      const isCityDistTownValid = validateCityDistTown();
      const isStateValid = validateState();
      const isEmailValid = validateEmail();
      const isAddressTypeValid = validateAddressType();

      if (
        !(
          isNameValid &&
          isPhoneValid &&
          isPincodeValid &&
          isLocalityValid &&
          isAddressValid &&
          isCityDistTownValid &&
          isStateValid &&
          isEmailValid &&
          isAddressTypeValid
        )
      ) {
        event.preventDefault();
      }
    });
  });
</script>
<%- include('../layouts/userLayouts/footer') %>
